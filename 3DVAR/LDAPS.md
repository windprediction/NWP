
### 🔹 1단계. **자료동화 (Data Assimilation)**

**관측된 데이터(기온, 기압, 바람 등)** + **이전 예보 결과**를 결합해
가장 현실적인 ‘현재 대기의 상태’를 수치적으로 재구성합니다.
이게 바로 **초기 조건(initial condition)** 이며, 모델 계산의 시작점입니다.

* 사용되는 관측 자료:

  * 지상 기상 관측소 (AWS, ASOS)
  * 라디오존데 (상층 대기 관측)
  * 위성 관측 (수증기, 구름, 복사 등)
  * 레이더 관측 (강수 영역)
  * 항공기 관측 (AMDAR 등)

* 자료동화 방법:

  * 4D-Var (4차원 변분법)
  * 또는 Hybrid EnVar (LDAPS에서 사용)

---

### 🔹 2단계. **지역모델 수치 시뮬레이션 (Forecast Model Execution)**

초기 조건을 바탕으로, 대기 상태를 기술하는 \*\*기상 방정식(물리 법칙)\*\*을 수치적으로 풀어서
미래 시각의 대기 상태를 격자 단위로 예측합니다.

* 사용 모델: **Unified Model (UM)**

  * 영국기상청(UKMO)에서 개발한 모델을 KMA가 자체 운영
  * LDAPS는 이 UM 기반의 **지역 고해상도 예보 모델**

* 계산되는 방정식:

  * 대기 연속 방정식
  * 운동 방정식 (나비에-스토크스 방정식 근사형)
  * 열전달 방정식
  * 수증기/에너지 보존
  * 방사(복사), 난류, 구름, 강수 등 **모수화(Parametrization)**

* 격자 해상도: 약 1.5 km

* 수직 레벨: 70개 이상 (지표\~상층)

---

### 🔹 3단계. **출력 및 가공 (Post-processing)**

모델 결과는 수천 개의 격자에서 온도, 습도, 풍속, 기압 등을 시계열로 예측합니다.
이를 사용자가 보기 쉽게 재가공(post-process)합니다.

* 출력 변수 예시:

  * `ta_1p5m`: 1.5m 기온
  * `tdp_1p5m`: 이슬점 온도
  * `uws_10m`, `vws_10m`: 10m 고도의 바람 성분
  * `surface_pressure`, `precip`, `humidity`, `cloud` 등

---

## ✅ LDAPS 원리 요약

| 단계           | 내용                               |
| ------------ | -------------------------------- |
| **1. 자료동화**  | 관측자료 + 예보 → 현재 대기 상태 추정 (초기장 생성) |
| **2. 수치예측**  | 초기장을 바탕으로 기상 방정식을 수치적으로 계산       |
| **3. 출력 가공** | 예측값을 사용자가 쓸 수 있도록 격자 데이터 생성      |

---

### 🔁 전체 흐름 구조
```
graph TD
  A[관측자료 (지상, 위성, 레이더 등)] --> B[자료동화 (4D-Var)]
  B --> C[초기장 생성]
  C --> D[Unified Model 실행 (수치 시뮬레이션)]
  D --> E[기온, 풍속, 습도, 강수 예측]
  E --> F[LDAPS 예보 출력 (CSV/GRIB/NetCDF)]
```

---

## ✅ 참고: LDAPS와 관련된 모델들

| 모델명       | 설명                                              |
| --------- | ----------------------------------------------- |
| **GDAPS** | 전지구 수치예보모델 (KMA 전지구모델, 해상도 낮음)                  |
| **LDAPS** | 지역 수치예보모델 (1.5km 해상도, 고정밀)                      |
| **RDAPS** | 중규모 지역모델 (12km, 넓은 영역 예보)                       |
| **KIM**   | 최신 대기모델 (Korean Integrated Model)로, LDAPS를 대체 중 |

---

필요하시면 다음도 알려드릴 수 있어요:

* LDAPS 예측 결과 시각화 코드
* 기상 방정식 간단 설명
* LDAPS 격자 데이터를 활용한 위치 매핑

궁금한 항목이 있으시면 말씀해주세요!
